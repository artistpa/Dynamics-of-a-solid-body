# Моделирование вращения твердого тела с использованием уравнений Эйлера и Пуассона

Этот репозиторий содержит Python-скрипт, моделирующий вращение твердого тела вокруг неподвижной точки, используя уравнения Эйлера и Пуассона.

## Теоретическая основа

Моделирование основано на двух ключевых уравнениях:

**1. Динамическое уравнение Эйлера:**

Это уравнение описывает изменение угловой скорости твердого тела под действием внешних моментов.  В случае отсутствия внешних моментов (M₀<sup>ex</sup> = 0), уравнение принимает вид:
`I₀ ⋅ dω/dt + ω x (I₀ ⋅ ω) = 0`


где:

*   `I₀`: Тензор инерции тела в главных осях (диагональная матрица с элементами A, B, C).
*   `ω`: Вектор угловой скорости (ω₁, ω₂, ω₃).
*   `x`: Обозначает векторное произведение.
*   `.`: Обозначает скалярное произведение матриц или умножение скаляра на вектор/матрицу

Запишем тензор инерции в главных осях инерции:

$$I_0 = \begin{pmatrix}
  A & 0 & 0 \\
  0 & B & 0 \\
  0 & 0 & C \end{pmatrix}$$


В проекциях на главные оси это уравнение расписывается как:
`A ⋅ dω₁/dt = (B - C) ⋅ ω₂ ⋅ ω₃`
`B ⋅ dω₂/dt = (C - A) ⋅ ω₃ ⋅ ω₁`
`C ⋅ dω₃/dt = (A - B) ⋅ ω₁ ⋅ ω₂`


**2. Кинематическое уравнение Пуассона:**

Это уравнение описывает изменение ориентации тела во времени, используя кватернионы:
`dΛ/dt = 0.5 ⋅ Λ ο ω`


где:

*   `Λ`: Кватернион, описывающий ориентацию тела (q₀, q₁, q₂, q₃).
*   `ο`: Обозначает операцию умножения кватернионов.
*   `.`: Обозначает скалярное произведение


Разложив уравнение Пуассона на скалярную и векторную части, получим систему уравнений для компонент кватерниона:
`dq₀/dt = -0.5 ⋅ (q₁ ⋅ ω₁ + q₂ ⋅ ω₂ + q₃ ⋅ ω₃)`
`dq₁/dt = 0.5 ⋅ (q₀ ⋅ ω₁ + q₂ ⋅ ω₃ - q₃ ⋅ ω₂)`
`dq₂/dt = 0.5 ⋅ (q₀ ⋅ ω₂ + q₃ ⋅ ω₁ - q₁ ⋅ ω₃)`
`dq₃/dt = 0.5 ⋅ (q₀ ⋅ ω₃ + q₁ ⋅ ω₂ - q₂ ⋅ ω₁)`


**Система уравнений:**  Объединяя уравнения Эйлера и Пуассона, получаем систему из 7 дифференциальных уравнений первого порядка:
`dy/dt = f(t, y)`


где  `y` - вектор состояния:
`y = [q₀, q₁, q₂, q₃, ω₁, ω₂, ω₃]ᵀ`


и `f(t, y)` - векторная функция, определяемая правыми частями уравнений Эйлера и Пуассона.


## Структура кода

Код организован для обеспечения модульности и читаемости.  Он состоит из следующих основных частей:

1. **Класс `Solid_body`:** Этот класс описывает физические свойства твердого тела.  Он хранит:
    * `I`: Тензор инерции (3x3 матрица).
    * `omega`: Вектор начальной угловой скорости (3x1 вектор).
    * `theta`:  Начальный угол поворота (скаляр).

    В классе реализованы методы для вычисления:
    * главных моментов инерции,
    * главных осей инерции.

2. **Класс `Quaternion`:**  Этот класс работает с кватернионами, представляющими ориентацию тела в пространстве. Он содержит:
    * `l0`, `l`:  Компоненты кватерниона.
    * методы для выполнения операций с кватернионами (сложение, умножение).

3. **Функция `g(t, U)`:** Эта функция определяет систему дифференциальных уравнений, описывающих динамику вращения.  Она принимает текущее время `t` и вектор состояния `U` (содержащий компоненты кватерниона и угловой скорости) и возвращает вектор производных.  Эта функция реализует уравнения Эйлера и Пуассона.

4. **Главная часть скрипта:**  Эта часть кода:
    * инициализирует параметры тела (`I`, `omega`, `theta`),
    * создает объект класса `Solid_body`,
    * задаёт начальные условия для кватерниона,
    * задаёт внешние моменты (в данном примере равные нулю),
    * решает систему дифференциальных уравнений с помощью `scipy.integrate.solve_ivp`,
    * визуализирует результаты с помощью `matplotlib.pyplot`.


## Использование

Для запуска моделирования необходимо установить библиотеки `numpy`, `scipy`, `matplotlib`. Затем запустите Python скрипт.  График отобразит временную зависимость одной из компонент угловой скорости.
